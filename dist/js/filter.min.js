import{blackBack,cardModal}from"./script.min.js";export default class Filter{constructor(){this.filterElement=document.querySelector(".filter"),this.urgencyFilter=document.querySelector(".js-urgency-filter"),this.urgency="All",this.urgencyFilter.addEventListener("change",this.filterByUrgency.bind(this)),this.doctorFilter=document.querySelector(".js-doctor-filter"),this.doctor="All",this.doctorFilter.addEventListener("change",this.filterByDoctor.bind(this)),this.name=document.querySelector(".js-name-filter"),this.name.addEventListener("input",this.filterByName.bind(this)),this.statusFilter=document.querySelector(".js-status-filter"),this.status="All",this.statusFilter.addEventListener("change",this.filterByStatus.bind(this))}loadFilter(){const t=document.querySelector(".no-items"),e=document.getElementsByClassName("Visit-Card");this.cards=[...e],0!==this.cards.length?(t.classList.add("disActivated"),this.filterElement.classList.add("active"),cardModal.classList.remove("active"),blackBack.classList.remove("active")):(t.classList.remove("disActivated"),this.filterElement.classList.remove("active"))}filterByUrgency(){const t=[...document.getElementsByClassName("js-filter-byName")],e=[...document.getElementsByClassName("js-filter-byDoctor")],s=[...document.getElementsByClassName("js-filter-byStatus")];let r=[];switch(t.forEach((t=>{e.forEach((e=>{s.forEach((s=>{s===t&&s===e&&r.push(s)}))}))})),this.urgencyFilter.selectedIndex){default:this.urgency="All";break;case 1:this.urgency="regular";break;case 2:this.urgency="priority";break;case 3:this.urgency="urgent"}this.cards.forEach((t=>{const e=t.querySelector(".js-urgency");t.classList.add("js-filter-byUrgency"),e.innerHTML!==this.urgency&&t.classList.remove("js-filter-byUrgency"),"All"===this.urgency&&t.classList.add("js-filter-byUrgency")})),r.forEach((t=>{const e=t.querySelector(".js-urgency");t.classList.remove("disActivated"),e.innerHTML!==this.urgency&&t.classList.add("disActivated"),"All"===this.urgency&&t.classList.remove("disActivated")}))}filterByDoctor(){const t=[...document.getElementsByClassName("js-filter-byName")],e=[...document.getElementsByClassName("js-filter-byUrgency")],s=[...document.getElementsByClassName("js-filter-byStatus")];let r=[];switch(t.forEach((t=>{e.forEach((e=>{s.forEach((s=>{s===t&&s===e&&r.push(s)}))}))})),this.doctorFilter.selectedIndex){default:this.doctor="All";break;case 1:this.doctor="cardiologist";break;case 2:this.doctor="dentist";break;case 3:this.doctor="therapist"}this.cards.forEach((t=>{const e=t.querySelector(".js-doctor");t.classList.add("js-filter-byDoctor"),e.innerHTML!==this.doctor&&t.classList.remove("js-filter-byDoctor"),"All"===this.doctor&&t.classList.add("js-filter-byDoctor")})),r.forEach((t=>{const e=t.querySelector(".js-doctor");t.classList.remove("disActivated"),e.innerHTML!==this.doctor&&t.classList.add("disActivated"),"All"===this.doctor&&t.classList.remove("disActivated")}))}filterByName(t){this.filteredByDoctorFromIU=document.getElementsByClassName("js-filter-byDoctor"),this.filteredByDoctor=[...this.filteredByDoctorFromIU],this.filteredByUrgencyFromIU=document.getElementsByClassName("js-filter-byUrgency"),this.filteredByUrgency=[...this.filteredByUrgencyFromIU],this.filteredByStatusFromIU=document.getElementsByClassName("js-filter-byStatus"),this.filteredByStatus=[...this.filteredByStatusFromIU];let e=[];this.filteredByDoctor.forEach((t=>{this.filteredByUrgency.forEach((s=>{this.filteredByStatus.forEach((r=>{r===t&&r===s&&e.push(r)}))}))})),this.cards.forEach((e=>{const s=e.querySelector(".js-fullName");e.classList.add("js-filter-byName"),s.innerHTML.includes(t.target.value)||s.innerHTML.toLowerCase().includes(t.target.value)||e.classList.remove("js-filter-byName")})),e.forEach((e=>{const s=e.querySelector(".js-fullName");e.classList.remove("disActivated"),s.innerHTML.includes(t.target.value)||s.innerHTML.toLowerCase().includes(t.target.value)||e.classList.add("disActivated")}))}filterByStatus(){const t=[...document.getElementsByClassName("js-filter-byName")],e=[...document.getElementsByClassName("js-filter-byDoctor")],s=[...document.getElementsByClassName("js-filter-byUrgency")];let r=[];switch(t.forEach((t=>{e.forEach((e=>{s.forEach((s=>{s===t&&s===e&&r.push(s)}))}))})),this.statusFilter.selectedIndex){default:this.status="All";break;case 1:this.status="open";break;case 2:this.status="done"}this.cards.forEach((t=>{const e=t.querySelector(".check");t.classList.add("js-filter-byStatus"),e.classList.contains(this.status)||t.classList.remove("js-filter-byStatus"),"All"===this.status&&t.classList.add("js-filter-byStatus")})),r.forEach((t=>{const e=t.querySelector(".check");t.classList.remove("disActivated"),e.classList.contains(this.status)||t.classList.add("disActivated"),"All"===this.status&&t.classList.remove("disActivated")}))}}