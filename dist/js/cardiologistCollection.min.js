import{filter,fetchJSON}from"./script.min.js";import VisitCardiologist from"./cardiologist.js";export default class CardiologistCollection{constructor(){this.list=[]}addVisit(i,t,s,e,o,r,l,n){const a={fullName:i,purpose:s,urgency:t,description:e,status:"open",pressure:o,bmi:r,diseases:l,age:n},d=JSON.stringify(a);fetchJSON("https://frozen-mountain-86271.herokuapp.com/cardiologist",{method:"POST",headers:{"Content-type":"application/json"},body:d}).then((i=>{const s=new VisitCardiologist(i.id,a.purpose,a.description,t,a.fullName,a.status,a.pressure,a.bmi,a.diseases,a.age);this.list.push(s),s.render(),filter.loadFilter()}))}getCollection(){fetchJSON("https://frozen-mountain-86271.herokuapp.com/cardiologist").then((i=>{i.forEach((i=>{const t=new VisitCardiologist(i.id,i.purpose,i.description,i.urgency,i.fullName,i.status,i.pressure,i.bmi,i.diseases,i.age);this.list.push(t),t.render(),filter.loadFilter()}))}))}removeById(i){fetch("https://frozen-mountain-86271.herokuapp.com/cardiologist/${id}",{method:"DELETE"}).then((()=>{this.list.find((t=>t.id===i)).visitCard.remove();const t=this.list.findIndex((t=>t.id===i));this.list.splice(t,1),filter.loadFilter()}))}}